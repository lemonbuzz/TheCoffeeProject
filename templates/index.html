<!DOCTYPE html>
<html>
	<head>
		<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	</head>
	<body>
		<a class="waves-effect waves-light btn-large red darken-2 coffeeBtn"><i class="material-icons left">power_settings_new</i>Start coffee machine</a>

		
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.1/socket.io.js"></script>
		<script>
			var socket = io();
			$('.coffeeBtn').click(function() {
				socket.emit("togglePower","");	
			});
			socket.on('statusUpdate', function(data) {
				$('.coffeeBtn').removeClass('green red');
				if(data == true){
					$('.coffeeBtn').addClass('green');
				}
				else{
					$('.coffeeBtn').addClass('red');
				}
				
			});
		</script>
	</body>
</html>
